<!DOCTYPE html>
    <html lang="es">
    <head>
    <meta charset="UTF-8">
    <title>Perfil Usuario</title>
    <link rel="stylesheet" href="../../style/style4.css">
</head>
<body>
    <nav>
        <a href="productos.html">Productos</a>

    </nav>
    <main>
    <h2>Datos del Usuario</h2>
    <div id="datosUsuario"></div>
    <a href="../index.html">Salir</a>
    </main>

<script>
    async function cargarUsuario() {
    const idUsuario = localStorage.getItem("idUsuario"); 

      // debug: mostrarlo en pantalla
        console.log("ID guardado:", idUsuario);

        let response = await fetch("http://localhost/api/index.php/usuario/datos?id=" + idUsuario, {
            method: "GET"
        });

        let data = await response.json();
        console.log("Respuesta del backend:", data);

        if (data.ok) {
            document.getElementById("datosUsuario").innerHTML = `
            <p><b>Nombre:</b> ${data.usuario.nombre}</p>
            <p><b>Apellido:</b> ${data.usuario.apellido}</p>
            <p><b>Tel√©fono:</b> ${data.usuario.telefono}</p>
            <p><b>Edad:</b> ${data.usuario.edad}</p>
        `;
        } else {
            document.getElementById("datosUsuario").innerHTML = `<p style="color:red">${data.error}</p>`;
        }
    }

    cargarUsuario();
</script>
</body>
</html>
